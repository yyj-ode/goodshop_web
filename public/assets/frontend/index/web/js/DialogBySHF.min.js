(function(n){function e(r){r!=undefined&&r!=null&&(t=n.extend({},f,r)),u=t.Width-10,i=t.Height-45}function r(r,f){var v;e(r);var h=n(window).width(),c=n(window).height(),l=(h-t.Width)/2+n(document).scrollLeft(),a=(c-t.Height)/2+n(document).scrollTop(),s=[];s.push('<div id="DialogBySHFLayer" style="width:'+n(document).width()+"px;height:"+n(document).height()+'px;"><\/div>'),s.push('<div id="DialogBySHF" style="width:'+t.Width+"px;height:"+t.Height+"px;left:"+l+"px;top:"+a+'px;">'),s.push('    <div id="Title"><span>'+t.Title+'<\/span><span id="Close">&#10005;<\/span><\/div>'),s.push('    <div id="Container" style="width:'+u+"px;height:"+i+'px;">'),f=="Dialog"?s.push('        <iframe src="'+t.URL+'"><\/iframe>'):(v=i-60,s.push("        <table>"),s.push('<tr><td id="TipLine" style="height:'+v+'px;">'+t.Content+"<\/td><\/tr>"),s.push("            <tr>"),s.push('                <td id="BtnLine">'),s.push('                    <input type="button" id="btnDialogBySHFConfirm" value="确定" />'),f=="Confirm"&&s.push('                    <input type="button" id="btnDialogBySHFCancel" value="取消" />'),s.push("                <\/td>"),s.push("            <\/tr>"),s.push("        <\/table>")),s.push("    <\/div>"),s.push("<\/div>"),n("body").append(s.join("\n")),o(f)}function o(i){n("#DialogBySHF #Close").click(function(){n.DialogBySHF.Close()}),n("#DialogBySHF #Title").DragBySHF(n("#DialogBySHF")),i!="Dialog"&&n("#DialogBySHF #btnDialogBySHFConfirm").click(function(){n.DialogBySHF.Close(),n.isFunction(t.ConfirmFun)&&t.ConfirmFun()}),i=="Confirm"&&n("#DialogBySHF #btnDialogBySHFCancel").click(function(){n.DialogBySHF.Close(),n.isFunction(t.CancelFun)&&t.CancelFun()})}var t,f={Title:"Windows弹出消息",Content:"",Width:400,Height:300,URL:"",ConfirmFun:{},CancelFun:{}},u=0,i=0;n.DialogBySHF={Alert:function(n){r(n,"Alert")},Confirm:function(n){r(n,"Confirm")},Dialog:function(n){r(n,"Dialog")},Close:function(){n("#DialogBySHFLayer,#DialogBySHF").remove()}}})(jQuery),function(n){n.fn.extend({DragBySHF:function(t){return this.each(function(){var u,f,e,o,r=n(t)==undefined?n(this):n(t),i=!1,s,h;n(this).mousedown(function(n){i=!0,u=n.pageX,f=n.pageY,e=r.css("left").replace("px",""),o=r.css("top").replace("px","")}).mouseup(function(){i=!1}),n("body").mousemove(function(n){i&&(s=parseInt(n.pageX)-parseInt(u)+parseInt(e),h=parseInt(n.pageY)-parseInt(f)+parseInt(o),r.css({left:s+"px",top:h+"px"}))}).mouseup(function(){i=!1}).mouseleave(function(){i=!1})})}})}(jQuery);